(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["orgchart"]=t(require("vue")):e["orgchart"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"0b47":function(e,t,r){},"13ca":function(e,t,r){"use strict";r("0b47")},"3ab8":function(e,t,r){},"45e5":function(e,t,r){"use strict";r("3ab8")},"8bbf":function(t,r){t.exports=e},d959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r}},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var n=window.document.currentScript,a=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(r.p=a[1])}var o=r("8bbf");function c(e,t,r,n,a,c){const s=Object(o["resolveComponent"])("organization-chart-node");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Object(o["mergeProps"])({scopedSlots:e.$slots},{class:"chartOrgchartContainer",onWheel:t[2]||(t[2]=e=>r.zoom&&c.zoomHandler(e)),onMouseup:t[3]||(t[3]=e=>r.pan&&a.panning&&c.panEndHandler(e))}),[Object(o["createElementVNode"])("div",{class:"chartOrgchart",style:Object(o["normalizeStyle"])({transform:a.transformVal,cursor:a.cursorVal}),onMousedown:t[0]||(t[0]=e=>r.pan&&c.panStartHandler(e)),onMousemove:t[1]||(t[1]=e=>r.pan&&a.panning&&c.panHandler(e))},[Object(o["createVNode"])(s,{datasource:r.datasource,"handle-click":c.handleClick},Object(o["createSlots"])({_:2},[Object(o["renderList"])(Object.keys(e.$slots),t=>({name:t,fn:Object(o["withCtx"])(r=>[Object(o["renderSlot"])(e.$slots,t,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(r)))])}))]),1032,["datasource","handle-click"])],36)],16)}const s={class:"table"},i=["colspan"],l=["id"],d={style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},u={style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},h={class:"chartLines"},m=["colspan"],p=Object(o["createElementVNode"])("div",{class:"chartDownLine"},null,-1),f=[p],b={class:"chartLines"},O=Object(o["createElementVNode"])("td",{class:"chartRightLine"},null,-1),j=Object(o["createElementVNode"])("td",{class:"chartLeftLine chartTopLine"},null,-1),g=Object(o["createElementVNode"])("td",{class:"chartRightLine chartTopLine"},null,-1),y=Object(o["createElementVNode"])("td",{class:"chartLeftLine"},null,-1),V={class:"nodes"};function x(e,t,r,n,a,c){const p=Object(o["resolveComponent"])("node");return Object(o["openBlock"])(),Object(o["createElementBlock"])("table",s,[Object(o["createElementVNode"])("tbody",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("td",{colspan:r.datasource.children&&r.datasource.children.length?2*r.datasource.children.length:null},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["chartNode","m"==r.datasource.gender?"cnMale":"cnFemale"]),style:{"min-width":"9rem"},id:r.datasource.id,onClick:t[0]||(t[0]=Object(o["withModifiers"])(e=>r.handleClick(r.datasource),["stop"]))},[Object(o["renderSlot"])(e.$slots,"default",{nodeData:r.datasource},()=>[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])("m"==r.datasource.gender?"chartTitleMale":"chartTitleFemale")},[Object(o["createElementVNode"])("p",d,Object(o["toDisplayString"])(r.datasource.name),1)],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])("m"==r.datasource.gender?"chartContentMale":"chartContentFemale")},[Object(o["createElementVNode"])("p",u,Object(o["toDisplayString"])(r.datasource.title),1)],2)])],10,l)],8,i)]),r.datasource.children&&r.datasource.children.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("tr",h,[Object(o["createElementVNode"])("td",{colspan:2*r.datasource.children.length},f,8,m)]),Object(o["createElementVNode"])("tr",b,[O,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.datasource.children.length-1,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:e},[j,g],64))),128)),y]),Object(o["createElementVNode"])("tr",V,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.datasource.children,t=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("td",{colspan:"2",key:t.id},[Object(o["createVNode"])(p,{datasource:t,"handle-click":r.handleClick},Object(o["createSlots"])({_:2},[Object(o["renderList"])(Object.keys(e.$slots),t=>({name:t,fn:Object(o["withCtx"])(r=>[Object(o["renderSlot"])(e.$slots,t,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(r)))])}))]),1032,["datasource","handle-click"])]))),128))])],64)):Object(o["createCommentVNode"])("",!0)])])}var v={name:"node",props:{datasource:Object,handleClick:Function},methods:{}},k=(r("13ca"),r("d959")),E=r.n(k);const N=E()(v,[["render",x]]);var C=N,L={name:"Container",props:{background:Boolean,datasource:{type:Object,required:!0},pan:{type:Boolean,required:!1},zoom:{type:Boolean,required:!1},zoomOutLimit:{type:Number,required:!1,default:.5},zoomInLimit:{type:Number,required:!1,default:7}},data(){return{cursorVal:"default",panning:!1,coordinate:{start:{x:0,y:0},current:{x:0,y:0},last:{x:0,y:0}},transformVal:""}},components:{OrganizationChartNode:C},methods:{handleClick(e){this.$emit("node-click",e)},panEndHandler(){this.panning=!1,this.cursorVal="default"},panHandler(e){if(e.targetTouches){if(1===e.targetTouches.length)this.coordinate.current.x=e.targetTouches[0].pageX-this.coordinate.start.x,this.coordinate.current.y=e.targetTouches[0].pageY-this.coordinate.start.y;else if(e.targetTouches.length>1)return}else this.coordinate.current.x=e.pageX-this.coordinate.start.x,this.coordinate.current.y=e.pageY-this.coordinate.start.y;if(""!==this.transformVal){let e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(e[4]=this.coordinate.current.x,e[5]=this.coordinate.current.y+")"):(e[12]=this.coordinate.current.x,e[13]=this.coordinate.current.y),this.transformVal=e.join(",")}return-1!==this.transformVal.indexOf("3d")?this.transformVal="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+this.coordinate.current.x+", "+this.coordinate.current.y+",0,1)":this.transformVal="matrix(1,0,0,1,"+this.coordinate.current.x+","+this.coordinate.current.y+")"},panStartHandler(e){if(this.cursorVal="move",this.panning=!0,""!==this.transformVal){let e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(this.coordinate.last.x=parseInt(e[4]),this.coordinate.last.y=parseInt(e[5])):(this.coordinate.last.x=parseInt(e[12]),this.coordinate.last.y=parseInt(e[13]))}e.targetTouches?1===e.targetTouches.length&&(this.coordinate.start.x=e.targetTouches[0].pageX-this.coordinate.last.x,this.coordinate.start.y=e.targetTouches[0].pageY-this.coordinate.last.y):(this.coordinate.start.x=e.pageX-this.coordinate.last.x,this.coordinate.start.y=e.pageY-this.coordinate.last.y)},setChartScale(e){let t="",r=1;return""===this.transformVal?this.transformVal="matrix("+e+", 0, 0, "+e+", 0, 0)":(t=this.transformVal.split(","),-1===this.transformVal.indexOf("3d")?(r=Math.abs(window.parseFloat(t[3])*e),void(r>this.zoomOutLimit&&r<this.zoomInLimit&&(t[0]="matrix("+r,t[3]=r,this.transformVal=t.join(",")))):(r=Math.abs(window.parseFloat(t[5])*e),void(r>this.zoomOutLimit&&r<this.zoomInLimit&&(t[0]="matrix3d("+r,t[5]=r,this.transformVal=t.join(",")))))},zoomHandler(e){let t=1+(e.deltaY>0?-.2:.2);this.setChartScale(t)}}};r("45e5");const S=E()(L,[["render",c]]);var z=S;z.install=e=>{e.component("OrgChart",z)};var B=z;t["default"]=B}})}));
//# sourceMappingURL=orgchart.umd.min.js.map