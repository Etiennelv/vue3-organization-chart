(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["orgchart"]=t(require("vue")):e["orgchart"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"3ab8":function(e,t,r){},4432:function(e,t,r){},"45e5":function(e,t,r){"use strict";r("3ab8")},"76b0":function(e,t,r){"use strict";r("4432")},"8bbf":function(t,r){t.exports=e},d959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const r=e.__vccOpts||e;for(const[a,o]of t)r[a]=o;return r}},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var a=window.document.currentScript,o=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(r.p=o[1])}var n=r("8bbf");function c(e,t,r,a,o,c){const i=Object(n["resolveComponent"])("organization-chart-node");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Object(n["mergeProps"])({scopedSlots:e.$slots},{class:"chartOrgchartContainer",onWheel:t[2]||(t[2]=e=>r.zoom&&c.zoomHandler(e)),onMouseup:t[3]||(t[3]=e=>r.pan&&o.panning&&c.panEndHandler(e))}),[Object(n["createElementVNode"])("div",{class:"chartOrgchart",style:Object(n["normalizeStyle"])({transform:o.transformVal,cursor:o.cursorVal}),onMousedown:t[0]||(t[0]=e=>r.pan&&c.panStartHandler(e)),onMousemove:t[1]||(t[1]=e=>r.pan&&o.panning&&c.panHandler(e))},[Object(n["createVNode"])(i,{datasource:r.datasource,"handle-click":c.handleClick},Object(n["createSlots"])({_:2},[Object(n["renderList"])(Object.keys(e.$slots),t=>({name:t,fn:Object(n["withCtx"])(r=>[Object(n["renderSlot"])(e.$slots,t,Object(n["normalizeProps"])(Object(n["guardReactiveProps"])(r)))])}))]),1032,["datasource","handle-click"])],36)],16)}const i={class:"table"},l=["colspan"],s=["id"],d={style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},u={style:{"margin-left":"0.5rem","margin-right":"0.5rem"}},h={style:{"border-right":"2px solid #fff"},class:"col-span-2"},m={class:"chartLines"},b=["colspan"],p=Object(n["createElementVNode"])("div",{class:"chartDownLine"},null,-1),f=[p],O={class:"chartLines"},j=Object(n["createElementVNode"])("td",{class:"chartRightLine"},null,-1),g=Object(n["createElementVNode"])("td",{class:"chartLeftLine chartTopLine"},null,-1),y=Object(n["createElementVNode"])("td",{class:"chartRightLine chartTopLine"},null,-1),V=Object(n["createElementVNode"])("td",{class:"chartLeftLine"},null,-1),v={class:"nodes"};function x(e,t,r,a,o,c){const p=Object(n["resolveComponent"])("node");return Object(n["openBlock"])(),Object(n["createElementBlock"])("table",i,[Object(n["createElementVNode"])("tbody",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("td",{colspan:r.datasource.children&&r.datasource.children.length?2*r.datasource.children.length:null},[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["chartNode","m"==r.datasource.gender?"cnMale":"cnFemale"]),style:{"min-width":"18rem"},id:r.datasource.id,onClick:t[0]||(t[0]=Object(n["withModifiers"])(e=>r.handleClick(r.datasource),["stop"]))},[Object(n["renderSlot"])(e.$slots,"default",{nodeData:r.datasource},()=>{var e,t,a,o,c,i,l,s,m,b,p;return[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])("m"==r.datasource.gender?"chartTitleMale":"chartTitleFemale")},[Object(n["createElementVNode"])("p",d,Object(n["toDisplayString"])(r.datasource.name),1)],2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])("m"==r.datasource.gender?"chartContentMale":"chartContentFemale")},[Object(n["createElementVNode"])("p",u,Object(n["toDisplayString"])(r.datasource.title),1),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["grid grid-cols-3 gap-1","m"==r.datasource.gender?"chartFooterMale":"chartFooterFemale"])},[Object(n["createElementVNode"])("div",h,[null!==(e=r.datasource)&&void 0!==e&&e.birth_date&&null!==(t=r.datasource)&&void 0!==t&&t.date_of_death?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(null===(a=r.datasource)||void 0===a?void 0:a.birth_date)+"/"+Object(n["toDisplayString"])(null===(o=r.datasource)||void 0===o?void 0:o.date_of_death),1)],64)):Object(n["createCommentVNode"])("",!0),null===(c=r.datasource)||void 0===c||!c.birth_date||null!==(i=r.datasource)&&void 0!==i&&i.date_of_death?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:1},[Object(n["createTextVNode"])(" Lahir "+Object(n["toDisplayString"])(null===(l=r.datasource)||void 0===l?void 0:l.birth_date),1)],64)),null!==(s=r.datasource)&&void 0!==s&&s.birth_date||null===(m=r.datasource)||void 0===m||!m.date_of_death?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:2},[Object(n["createTextVNode"])(" Meninggal "+Object(n["toDisplayString"])(null===(b=r.datasource)||void 0===b?void 0:b.date_of_death),1)],64))]),Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(null===(p=r.datasource)||void 0===p?void 0:p.age),1)],2)],2)]})],10,s)],8,l)]),r.datasource.children&&r.datasource.children.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:0},[Object(n["createElementVNode"])("tr",m,[Object(n["createElementVNode"])("td",{colspan:2*r.datasource.children.length},f,8,b)]),Object(n["createElementVNode"])("tr",O,[j,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.datasource.children.length-1,e=>(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:e},[g,y],64))),128)),V]),Object(n["createElementVNode"])("tr",v,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.datasource.children,t=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("td",{colspan:"2",key:t.id},[Object(n["createVNode"])(p,{datasource:t,"handle-click":r.handleClick},Object(n["createSlots"])({_:2},[Object(n["renderList"])(Object.keys(e.$slots),t=>({name:t,fn:Object(n["withCtx"])(r=>[Object(n["renderSlot"])(e.$slots,t,Object(n["normalizeProps"])(Object(n["guardReactiveProps"])(r)))])}))]),1032,["datasource","handle-click"])]))),128))])],64)):Object(n["createCommentVNode"])("",!0)])])}var k={name:"node",props:{datasource:Object,handleClick:Function},methods:{}},N=(r("76b0"),r("d959")),E=r.n(N);const _=E()(k,[["render",x]]);var C=_,S={name:"Container",props:{background:Boolean,datasource:{type:Object,required:!0},pan:{type:Boolean,required:!1},zoom:{type:Boolean,required:!1},zoomOutLimit:{type:Number,required:!1,default:.5},zoomInLimit:{type:Number,required:!1,default:7}},data(){return{cursorVal:"default",panning:!1,coordinate:{start:{x:0,y:0},current:{x:0,y:0},last:{x:0,y:0}},transformVal:""}},components:{OrganizationChartNode:C},methods:{handleClick(e){this.$emit("node-click",e)},panEndHandler(){this.panning=!1,this.cursorVal="default"},panHandler(e){if(e.targetTouches){if(1===e.targetTouches.length)this.coordinate.current.x=e.targetTouches[0].pageX-this.coordinate.start.x,this.coordinate.current.y=e.targetTouches[0].pageY-this.coordinate.start.y;else if(e.targetTouches.length>1)return}else this.coordinate.current.x=e.pageX-this.coordinate.start.x,this.coordinate.current.y=e.pageY-this.coordinate.start.y;if(""!==this.transformVal){let e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(e[4]=this.coordinate.current.x,e[5]=this.coordinate.current.y+")"):(e[12]=this.coordinate.current.x,e[13]=this.coordinate.current.y),this.transformVal=e.join(",")}return-1!==this.transformVal.indexOf("3d")?this.transformVal="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+this.coordinate.current.x+", "+this.coordinate.current.y+",0,1)":this.transformVal="matrix(1,0,0,1,"+this.coordinate.current.x+","+this.coordinate.current.y+")"},panStartHandler(e){if(this.cursorVal="move",this.panning=!0,""!==this.transformVal){let e=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(this.coordinate.last.x=parseInt(e[4]),this.coordinate.last.y=parseInt(e[5])):(this.coordinate.last.x=parseInt(e[12]),this.coordinate.last.y=parseInt(e[13]))}e.targetTouches?1===e.targetTouches.length&&(this.coordinate.start.x=e.targetTouches[0].pageX-this.coordinate.last.x,this.coordinate.start.y=e.targetTouches[0].pageY-this.coordinate.last.y):(this.coordinate.start.x=e.pageX-this.coordinate.last.x,this.coordinate.start.y=e.pageY-this.coordinate.last.y)},setChartScale(e){let t="",r=1;return""===this.transformVal?this.transformVal="matrix("+e+", 0, 0, "+e+", 0, 0)":(t=this.transformVal.split(","),-1===this.transformVal.indexOf("3d")?(r=Math.abs(window.parseFloat(t[3])*e),void(r>this.zoomOutLimit&&r<this.zoomInLimit&&(t[0]="matrix("+r,t[3]=r,this.transformVal=t.join(",")))):(r=Math.abs(window.parseFloat(t[5])*e),void(r>this.zoomOutLimit&&r<this.zoomInLimit&&(t[0]="matrix3d("+r,t[5]=r,this.transformVal=t.join(",")))))},zoomHandler(e){let t=1+(e.deltaY>0?-.2:.2);this.setChartScale(t)}}};r("45e5");const B=E()(S,[["render",c]]);var L=B;L.install=e=>{e.component("OrgChart",L)};var z=L;t["default"]=z}})}));
//# sourceMappingURL=orgchart.umd.min.js.map